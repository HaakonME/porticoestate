This is the INSTALL docs for the developer's version of phpgwtimetrack, which
is meant to be compatible with phpgroupware 0.9.10.

Requirements (and caveats)

MySQL (tested on v3.23.33). Earlier versions could work, but may fail running
the setup upgrade process, depending on what versions support for certain SQL queries
for renaming tables first appeared. PostgreSQL could probably be supported
if anyone is willing to port the SQL to it.

PHP: As far as I know I am not using anything that is specific to PHP4 yet.

Using the Upgrade process is totally untested at this point, but the underlying
login should be quite sound. If you are attempting to upgrade a phpgroupware
installation with timetrack to 0.9.10, there is currently one item of importance
that will still need to be addressed manually for now. The reason for this
is that the new version of Timetrack needs to be upgraded after phpgroupware
0.9.10 has been upgraded, but the phpgroupware upgrade code does not handle
the addressbook data for company_names properly if timetrack is installed.
I have submitted a bug report in the hopes that they can get support for this
into the final release of 0.9.10. Those of you who are SQL wizards will no
doubt easily be able to come up with some type of sql update cross joined
query that could just move the customers.company_name to addressbook.company_name
based on joining addressbook.company_id to customers.company_id (before upgrading
phpgroupware to 0.9.10)

Timetrack has been totally redone now to use the Phpgw API classes for contacts 
and accounts, so it should now work for those using LDAP for contacts and
accounts.

Installing Timetrack

1. Unpack the archive so that the "timetrack" directory is inside your base
phpgroupware directory.
2. Login to phpgroupware as a member of the "Admins" group.
3. Edit the URL in your addressbar to be
	http://yoursite.domain/phpgroupware/timetrack/setup/
   and press enter. "yoursite.domain" refers to the server's domainname,
   and phpgroupware is the default installation URL, change to suit
   your install.
4. If no previous versions of Timetrack are installed, the main install
   options will be a standard new installation. Click the "Install"
   button to proceed.

   If the previous version of Timetrack is installed, the install
   option will be set to "Upgrade". Click the "Upgrade button to
   proceed with an upgrade. At some point a "Remove" option may
   be added for this installation level.

   If the installed version of timetrack is the current version,
   then the only option on the setup page will be to completely
   remove it. There is currently no way out of this once you
   hit the remove button, so be careful. This option removes all
   traces of any timetrack data from the database, it does not
   delete the installation directory itself.

5. The fresh installation is broken up into 2 steps. After the first
   portion completes with no errors, click the link at the bottom
   to continue to step 2. If there are no errors in step2, timetrack
   is ready to use, almost in it's entirety, as opposed to all the
   tedious manual setup in previous versions. All that remains is
   to add appropriate users to the TTrack_Managers and TTrack_Payroll
   groups, and to customize the Location and other tables from the
   Admin menu. The automated setup performs the following steps:

   Step 1 creates all the needed database tables, creates default
   employee_profile entries for each user account, and adds
   Timetrack to the applications table.

   Step 2 loads the tables with default data, creates the needed acl's
   and groups, assigns all user accounts the timetrack "run" acl,
   creates employee_profiles for all users and also creates basic 
   customer entries for all distinct org_name entries found in the 
   addressbook. The last item to be done is loading the lang entries 
   (currently only English is supported).

   If an upgrade is being performed, all that needs to be done in setup
   is to rename the tables and a few of the fields, and the customers
   table is checked for the existence of the "active" field and this
   field is added if it doesn't exist. The active field is also set
   to 'Y' for all customers only if the field is being added during the
   upgrade. A few other new fields are added to the jobs and job_details
   tables, the language entries are re-applied, and the jobs table is
   updated to calculate the total hours field for each job based on
   the job_details entries for it. 
   EXTEREMLY IMPORTANT: Lastly, you are given the opportunity
   to redo the upgrade of the addressbook. If you wish to preserve
   data integrity relating to keeping contacts associated with 
   with the right customers and jobs, this step is a definite must!

At this point, installation should be completed and timetrack is ready 
to use. If there are errors in the installation scripts, I am working
on adding support for removing partial installations, but it is still
in the works.

The only manual step needed is to add users as appropriate to the
TTrack_Managers and TTrack_Payroll groups.
