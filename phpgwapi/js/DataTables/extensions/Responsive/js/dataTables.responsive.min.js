(function(e,t,n){var r=function(n,r){"use strict";var i=function(e,t){if(!r.versionCheck||!r.versionCheck("1.10.1")){throw"DataTables Responsive requires DataTables 1.10.1 or newer"}this.s={dt:new r.Api(e),columns:[]};if(this.s.dt.settings()[0].responsive){return}if(t&&typeof t.details==="string"){t.details={type:t.details}}this.c=n.extend(true,{},i.defaults,r.defaults.responsive,t);e.responsive=this;this._constructor()};i.prototype={_constructor:function(){var t=this;var r=this.s.dt;r.settings()[0]._responsive=this;n(e).on("resize.dtr orientationchange.dtr",r.settings()[0].oApi._fnThrottle(function(){t._resize()}));r.on("destroy.dtr",function(){n(e).off("resize.dtr orientationchange.dtr")});this.c.breakpoints.sort(function(e,t){return e.width<t.width?1:e.width>t.width?-1:0});this._classLogic();this._resizeAuto();this._resize();var i=this.c.details;if(i.type){t._detailsInit();this._detailsVis();r.on("column-visibility.dtr",function(){t._detailsVis()});n(r.table().node()).addClass("dtr-"+i.type)}},_columnsVisiblity:function(e){var t=this.s.dt;var r=this.s.columns;var i,s;var o=n.map(r,function(t){return t.auto&&t.minWidth===null?false:t.auto===true?"-":n.inArray(e,t.includeIn)!==-1});var u=0;for(i=0,s=o.length;i<s;i++){if(o[i]===true){u+=r[i].minWidth}}var a=t.table().container().offsetWidth;var f=a-u;for(i=0,s=o.length;i<s;i++){if(r[i].control){f-=r[i].minWidth}else if(o[i]==="-"){o[i]=f-r[i].minWidth<0?false:true;f-=r[i].minWidth}}var l=false;for(i=0,s=r.length;i<s;i++){if(!r[i].control&&!r[i].never&&!o[i]){l=true;break}}for(i=0,s=r.length;i<s;i++){if(r[i].control){o[i]=l}}if(n.inArray(true,o)===-1){o[0]=true}return o},_classLogic:function(){var e=this;var t={};var r=this.c.breakpoints;var i=this.s.dt.columns().eq(0).map(function(e){var t=this.column(e).header().className;return{className:t,includeIn:[],auto:false,control:false,never:t.match(/\bnever\b/)?true:false}});var s=function(e,t){var r=i[e].includeIn;if(n.inArray(t,r)===-1){r.push(t)}};var o=function(t,n,o,u){var a,f,l;if(!o){i[t].includeIn.push(n)}else if(o==="max-"){a=e._find(n).width;for(f=0,l=r.length;f<l;f++){if(r[f].width<=a){s(t,r[f].name)}}}else if(o==="min-"){a=e._find(n).width;for(f=0,l=r.length;f<l;f++){if(r[f].width>=a){s(t,r[f].name)}}}else if(o==="not-"){for(f=0,l=r.length;f<l;f++){if(r[f].name.indexOf(u)===-1){s(t,r[f].name)}}}};i.each(function(e,t){var i=e.className.split(" ");var s=false;for(var u=0,a=i.length;u<a;u++){var f=n.trim(i[u]);if(f==="all"){s=true;e.includeIn=n.map(r,function(e){return e.name});return}else if(f==="none"||f==="never"){s=true;return}else if(f==="control"){s=true;e.control=true;return}n.each(r,function(e,n){var r=n.name.split("-");var i=new RegExp("(min\\-|max\\-|not\\-)?("+r[0]+")(\\-[_a-zA-Z0-9])?");var u=f.match(i);if(u){s=true;if(u[2]===r[0]&&u[3]==="-"+r[1]){o(t,n.name,u[1],u[2]+u[3])}else if(u[2]===r[0]&&!u[3]){o(t,n.name,u[1],u[2])}}})}if(!s){e.auto=true}});this.s.columns=i},_detailsInit:function(){var e=this;var t=this.s.dt;var r=this.c.details;if(r.type==="inline"){r.target="td:first-child"}var i=r.target;var s=typeof i==="string"?i:"td";n(t.table().body()).on("click",s,function(r){if(!n(t.table().node()).hasClass("collapsed")){return}if(!t.row(n(this).closest("tr")).length){return}if(typeof i==="number"){var s=i<0?t.columns().eq(0).length+i:i;if(t.cell(this).index().column!==s){return}}var o=t.row(n(this).closest("tr"));if(o.child.isShown()){o.child(false);n(o.node()).removeClass("parent")}else{var u=e.c.details.renderer(t,o[0]);o.child(u,"child").show();n(o.node()).addClass("parent")}})},_detailsVis:function(){var e=this;var t=this.s.dt;var r=t.columns().indexes().filter(function(e){var r=t.column(e);if(r.visible()){return null}return n(r.header()).hasClass("never")?null:e});var i=true;if(r.length===0||r.length===1&&this.s.columns[r[0]].control){i=false}if(i){n(t.table().node()).addClass("collapsed");t.rows().eq(0).each(function(n){var r=t.row(n);if(r.child()){var i=e.c.details.renderer(t,r[0]);if(i===false){r.child.hide()}else{r.child(i,"child").show()}}})}else{n(t.table().node()).removeClass("collapsed");t.rows().eq(0).each(function(e){t.row(e).child.hide()})}},_find:function(e){var t=this.c.breakpoints;for(var n=0,r=t.length;n<r;n++){if(t[n].name===e){return t[n]}}},_resize:function(){var t=this.s.dt;var r=n(e).width();var i=this.c.breakpoints;var s=i[0].name;for(var o=i.length-1;o>=0;o--){if(r<=i[o].width){s=i[o].name;break}}var u=this._columnsVisiblity(s);t.columns().eq(0).each(function(e,n){t.column(e).visible(u[n])})},_resizeAuto:function(){var e=this.s.dt;var t=this.s.columns;if(!this.c.auto){return}if(n.inArray(true,n.map(t,function(e){return e.auto}))===-1){return}var r=e.table().node().offsetWidth;var i=e.columns;var s=e.table().node().cloneNode(false);var o=n(e.table().header().cloneNode(false)).appendTo(s);var u=n(e.table().body().cloneNode(false)).appendTo(s);e.rows({page:"current"}).indexes().flatten().each(function(t){var r=e.row(t).node().cloneNode(true);if(e.columns(":hidden").flatten().length){n(r).append(e.cells(t,":hidden").nodes().to$().clone())}n(r).appendTo(u)});var a=e.columns().header().to$().clone(false).wrapAll("tr").appendTo(o);var f=n("<div/>").css({width:1,height:1,overflow:"hidden"}).append(s).insertBefore(e.table().node());e.columns().eq(0).each(function(e){t[e].minWidth=a[e].offsetWidth||0});f.remove()}};i.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];i.defaults={breakpoints:i.breakpoints,auto:true,details:{renderer:function(e,t){var r=e.cells(t,":hidden").eq(0).map(function(t){var r=n(e.column(t.column).header());var i=e.cell(t).index();if(r.hasClass("control")||r.hasClass("never")){return""}var s=e.settings()[0];var o=s.oApi._fnGetCellData(s,i.row,i.column,"display");return'<li data-dtr-index="'+i.column+'">'+'<span class="dtr-title">'+r.text()+":"+"</span> "+'<span class="dtr-data">'+o+"</span>"+"</li>"}).toArray().join("");return r?n('<ul data-dtr-index="'+t+'"/>').append(r):false},target:0,type:"inline"}};var s=n.fn.dataTable.Api;s.register("responsive()",function(){return this});s.register("responsive.recalc()",function(){this.iterator("table",function(e){if(e._responsive){e._responsive._resizeAuto();e._responsive._resize()}})});s.register("responsive.index()",function(e){e=n(e);return{column:e.data("dtr-index"),row:e.parent().data("dtr-index")}});i.version="1.0.2";n.fn.dataTable.Responsive=i;n.fn.DataTable.Responsive=i;n(t).on("init.dt.dtr",function(e,t,s){if(n(t.nTable).hasClass("responsive")||n(t.nTable).hasClass("dt-responsive")||t.oInit.responsive||r.defaults.responsive){var o=t.oInit.responsive;if(o!==false){new i(t,n.isPlainObject(o)?o:{})}}});return i};if(typeof define==="function"&&define.amd){define(["jquery","datatables"],r)}else if(typeof exports==="object"){r(require("jquery"),require("datatables"))}else if(jQuery&&!jQuery.fn.dataTable.Responsive){r(jQuery,jQuery.fn.dataTable)}})(window,document)
